# TURN服务器配置文件

# 监听端口
listening-port=3478
tls-listening-port=5349

# 外部IP地址 (替换为你的服务器公网IP)
external-ip=YOUR_PUBLIC_IP_HERE

# 中继端口范围
min-port=49152
max-port=65535

# 认证方式 - 使用共享密钥
use-auth-secret
static-auth-secret=miclink-secret-change-this-in-production

# 域名
realm=miclink.local

# 日志级别
verbose

# 日志文件
log-file=/var/log/turnserver/turnserver.log

# 禁用不安全的协议
no-tlsv1
no-tlsv1_1

# 性能优化
# 最大总带宽配额 (100MB/s)
total-quota=100

# 单用户最大带宽 (3Mbps)
max-bps=3000000

# 用户配额 (字节)
user-quota=0
bps-capacity=0

# 禁用TCP中继 (仅使用UDP)
no-tcp-relay

# 禁用多播
no-multicast-peers

# 禁用环回
no-loopback-peers

# 指纹
fingerprint

# 长期凭证机制
lt-cred-mech

# 启用移动性
mobility

# 不要使用STUN绑定请求
no-stun

# 其他安全选项
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# 允许的对等IP (示例，根据需要调整)
# allowed-peer-ip=YOUR_ALLOWED_IP_RANGE
